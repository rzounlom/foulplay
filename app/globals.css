@import "tailwindcss";

/* Tailwind dark variant: use data-theme so theme toggle controls dark: classes */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

/* Design system: Untitled UI–inspired, clean and modern */
:root,
[data-theme="light"] {
  /* Light mode: warm off-white background so cards pop */
  --background: #F5F4F2;
  --foreground: #171717;
  --primary: #FF6600;
  --accent: #00B2FF;
  --neutral: #F7F7F9;
  --surface: #ffffff;
  --surface-muted: #EFEEEC;
  --border: #E5E4E2;
}
:root {
  /* Typography scale */
  --text-page-title: 1.875rem;   /* 30px / text-3xl */
  --text-section-title: 1.25rem; /* 20px / text-xl */
  --text-body: 1rem;             /* 16px / text-base */
  --text-body-sm: 0.875rem;      /* 14px / text-sm */
  --text-caption: 0.75rem;       /* 12px / text-xs */
  /* Spacing: section = 1.5rem (24px), block = 1rem (16px), inline = 0.5rem (8px) */
  --space-section: 1.5rem;
  --space-block: 1rem;
  --space-inline: 0.5rem;
  /* Transitions */
  --transition-duration: 150ms;
  --transition-duration-slow: 200ms;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-primary: var(--primary);
  --color-accent: var(--accent);
  --color-neutral: var(--neutral);
  --color-surface: var(--surface);
  --color-surface-muted: var(--surface-muted);
  --color-border: var(--border);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

[data-theme="dark"] {
  --background: #0A0A0A;
  --foreground: #F7F7F9;
  --primary: #FF6600;
  --accent: #00B2FF;
  --neutral: #1A1A1A;
  --surface: #171717;
  --surface-muted: #262626;
  --border: #262626;
}

html {
  overflow-y: auto;
}

html,
body {
  margin: 0;
  padding: 0;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* Prevent scroll on landing page */
body.landing-no-scroll {
  overflow: hidden;
  height: 100vh;
}

/* Typography utilities – use for consistent hierarchy */
.text-page-title {
  font-size: var(--text-page-title);
  font-weight: 700;
  line-height: 1.25;
  letter-spacing: -0.025em;
}
.text-section-title {
  font-size: var(--text-section-title);
  font-weight: 600;
  line-height: 1.3;
}
.text-body-muted {
  font-size: var(--text-body-sm);
  color: rgb(82 82 82);
}
[data-theme="dark"] .text-body-muted {
  color: rgb(163 163 163);
}
.text-caption {
  font-size: var(--text-caption);
  color: rgb(115 115 115);
}
[data-theme="dark"] .text-caption {
  color: rgb(163 163 163);
}

/* Color & contrast: Primary #FF6600 and Accent #00B2FF (brand). Use neutral-600/400 for muted text (sufficient contrast). */
/* Links: primary for CTAs, accent for secondary/info links */
a.link-accent {
  color: var(--accent);
  transition: color var(--transition-duration) ease;
}
a.link-accent:hover {
  color: #0099e6;
}
[data-theme="dark"] a.link-accent:hover {
  color: #33bfff;
}

button:not(:disabled):not([disabled]) {
  cursor: pointer;
}

a {
  cursor: pointer;
  transition: color var(--transition-duration) ease;
}

/* Navbar: ensure pointer cursor persists on hover (children like SVG can override) */
nav a,
nav button,
nav [role="button"] {
  cursor: pointer;
}
nav a *,
nav button * {
  cursor: inherit;
}

/* Focus visible for accessibility (keyboard nav) */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible {
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* In-game animation keyframes */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slide-in-from-left {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes pop-in {
  from {
    opacity: 0;
    transform: scale(0.85);
  }
  70% {
    opacity: 1;
    transform: scale(1.03);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes reaction-enter {
  from {
    opacity: 0;
    transform: scale(0.5) translateY(16px);
  }
  50% {
    opacity: 1;
    transform: scale(1.08) translateY(-4px);
  }
  75% {
    transform: scale(0.98) translateY(1px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

@keyframes reaction-float {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(-24px);
    opacity: 0.85;
  }
}

@keyframes reaction-emoji-pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.15);
  }
}

/* Reusable animation classes */
.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out both;
}
.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out both;
}
.animate-slide-in-from-left {
  animation: slide-in-from-left 0.25s ease-out both;
}
.animate-pop-in {
  animation: pop-in 0.25s ease-out both;
}
.animate-reaction-enter {
  animation: reaction-enter 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}
.animate-reaction-float {
  animation: reaction-float 2.2s ease-out 0.4s forwards;
}
.animate-reaction-emoji-pulse {
  animation: reaction-emoji-pulse 0.6s ease-in-out 0.2s;
}

/* Reaction exit: applied as class; use transition for smooth leave */
.reaction-exit {
  opacity: 0;
  transform: scale(0.85) translateY(-16px);
  transition: opacity 0.3s ease-out, transform 0.3s ease-out;
}

/* Vote card approval/rejection flash (one-time when resolution appears) */
@keyframes vote-approved-flash {
  0% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.5);
    transform: scale(1);
  }
  40% {
    box-shadow: 0 0 24px 6px rgba(34, 197, 94, 0.35);
    transform: scale(1.04);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
    transform: scale(1);
  }
}

@keyframes vote-rejected-flash {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.5);
    transform: scale(1);
  }
  40% {
    box-shadow: 0 0 24px 6px rgba(239, 68, 68, 0.35);
    transform: scale(1.04);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
    transform: scale(1);
  }
}

.vote-card-approved-flash {
  animation: vote-approved-flash 0.55s ease-out;
}

.vote-card-rejected-flash {
  animation: vote-rejected-flash 0.55s ease-out;
}

/* Points awarded popup: float up and fade */
@keyframes points-awarded-enter {
  from {
    opacity: 0;
    transform: translateY(0) scale(0.9);
  }
  15% {
    opacity: 1;
    transform: translateY(-8px) scale(1.05);
  }
  85% {
    opacity: 1;
    transform: translateY(-32px) scale(1);
  }
  to {
    opacity: 0;
    transform: translateY(-48px) scale(1);
  }
}

.points-awarded-popup {
  animation: points-awarded-enter 2s ease-out forwards;
}
